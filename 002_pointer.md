# 너는 왜 가리키니...포인터

    2018-11-04 : initial commit

### 1.1 포인터의 개념

포인터란 __주소를 가지고 있는 변수__ 라고 한다. ~~뭔말인지 모른다 그렇게 말하면~~

다시 말하면, __값이 아닌 주소를 가지고 있는 변수 인 것이다.__ 

    일반 변수 : 값을 가지게 됨
    포인터 변수 : 주소를 가지게 됨

__레이저 포인터를 생각하면 편하다.__ (프레젠테이션을 할 때 무언가를 가리키는것과, 포인터형 변수가 메모리 주소를 가리키는것은 비슷한 행동(?)이다.)

### 1.2 포인터를 쓰는 방법

* ex)

    ```c
    #include <stdio.h>

    int main(void) {
        int *point_var; // 포인터형 변수 선언
        int default_var = 10; // 일반 변수 선언

        point_var = &default_var;

        printf("%p %p", point_var, default_var); //같은 메모리 주소가 나온다.
    }
    ```

    * 위와 같은 코드에서, point_var 포인터형 변수가 default_var 일반 변수와 같은 메모리 주소를 가진것을 알 수 있다. 
    * 이는 곧 'point_var' 가 'default_var'을 __가리키고__ 있다는것을 알 수 있다.

* 포인터변수의 기본형

```c
int *var; // * 를 통해서 포인터형 변수를 선언한다.
```

* 포인터변수 사용시 주의점
    * __초기화가 안된 포인터를 사용하는__ 행동은 위험하다. (남의 집주소를 써넣은 행위와 같은 것이다.)
    * 포인터가 누구를 가리키고 있지 않다면, __NULL로 초기화 해주자.__ (위에서 말했듯이, 초기화 안된 포인터는 위험하다. 차라리 집주소를 빈칸으로 해두는것이 안전하다.)

### 1.3 포인터같이 생긴, 역참조 연산자

역참조 연산자란 __메모리 주소에 접근하여 읽기/쓰기가 가능한 연산자__ 이다. 

* 형태
    * __*__ 이 역참조 연산자다. 
    * 포인터 선언시에도 똑같이 쓰지만 이건 포인터를 __활용할때__ 쓴다.

* 기본 정보
    * 포인터는 변수의 __주소__ 만 가리킨다.
    * 역참조 연산자를 사용하면 __주소에 직접 값을 저장한다.__
    * 선언을 통해 자료형을 바꾸는 효과를 낸다.
        * ex)
        ```c
        #include <stdio.h>
        
        int main(void){
            int *point_var;
            int var1 = 10;

            point_var = var1; // 형이 안맞기때문에 오류가 난다.

            *point_Var = var1; // 자료형을 일치시키기 때문에 오류가 없다.

            printf("%d %d", *point_var, var1);
        }
        ```
    * 이를 통해 __~~형__ 이 중요하다는 것을 알 수 있다. (형변환이 괜히 있는것이 아니다.)

### 1.4 void 형 포인터

포인터로 모든 자료형의 포인터를 만들 수 있다는 것은 말하지 않아도 잘 알것이다. ~~설명하기 귀찮은 것이 아니라?~~

그럼 아무 형도 아닌 __void__ 형 포인터도 선언이 가능하다.

* void 형 포인터의 기본형
    ```c
    void *var;
    ```

* 가장 중요한 것으로, __자료형이 없기 때문에 역참조 연산자를 쓸 수는 없다.__
* 자료형을 변환할 때나, 함수에서 반환값을 받거나, 포인터 매개변수 사용시에 void형을 활용한다.

### 1.5 ~~포인터의 포인터고 포인터의 포인터인~~ 이중 포인터

이중 포인터란 ~~포인터의 포인터이고 포인터인~~ __포인터를 가리키는 포인터이다.__ 말이 어려울 수도 있다. 

쉽게 생각하면 대상을 가리키는 표지판을 가리키는 또 하나의 표지판이다.

    이중 포인터 -> 포인터 -> 대상

### 1.6 이중 포인터를 쓰는 방법

* ex)
    ```c
    #include <stdio.h>

    int main(void) {
        int *var1;
        int **var2; // 이중 포인터 선언
        int var3 = 10;

        var1 = &var3; // *var1에는 10의 메모리 주소가 들어감
        var2  = &var1; // **var2에는 *var1의 메모리주소가 들어감.

        printf("%d", **var2); // var2 -> var1 -> var3 = 10 이라는 값이 출력됨.
    }
    ```
    * 위와 같이 __*__ 을 두번 선언함으로써 이중 포인터를 선언한다.

    * 이중 포인터의 기본형
        ```c
        int **var; // ** 을 사용함으로서 이중 포인터 선언
        ```

* 이를 통해서 이중, 삼중 포인터도 사용 가능하고, 역참조 연산자를 두번, 세번 사용도 가능하다는 것을 알 수 있다.